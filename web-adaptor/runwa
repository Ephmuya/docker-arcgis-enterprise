# Docker command to start Web Adaptor container in interactive mode;
# you will have to start the Tomcat server running from a command prompt.
# NOTE: The container will stop when you exit from the shell!

WA_FQDN="webadaptor.localdomain"
WA_NAME="web-adaptor"

# Stop a previous instance, if any.
docker stop ${WA_NAME}
docker rm ${WA_NAME}

echo "Docker is starting in interactive mode."
echo "Web-Adaptor URL is https://${WA_FQDN}/arcgis/webadaptor"
echo "Web-Adaptor URL portal is https://${WA_FQDN}/arcgis/home"
echo "\"./startwa.sh\" will start web adaptor and (if needed) configure it."

docker run -it --rm --name web-adaptor \
  -p 80:80 -p 443:443 \
  --net arcgis-network --link portal-for-arcgis:portal \
  geoceg/web-adaptor bash

echo "${WA_NAME} docker removed."
